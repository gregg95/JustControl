<!--
  Generated template for the UsersManagementPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>Zarządzanie użytkownikami</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>

  <div *ngFor="let user of users">

             
          <ion-grid>
            <ion-row>
              <ion-col style="text-align: center">
                  <h2>{{ user.usr_name }}</h2>
              </ion-col>
            </ion-row>
            <ion-row>
              <ion-col>
                <ion-item>
                    <ion-label>Zmień uprawnienia</ion-label>
                    <ion-select interface="popover" [(ngModel)]="user.usr_rights" (ngModelChange)="setRights(user)">
                        <ion-option [value]="2" >Zwykły użtykownik</ion-option>
                        <ion-option [value]="1" >Admin mieszkania</ion-option>
                    </ion-select>
                </ion-item>
              </ion-col>
            </ion-row>
            <ion-row>
              <ion-col>
                  <button color="danger" ion-button block (click)="removeUserFromFlat(user)">
                      Usuń z mieszkania
                    </button>
              </ion-col>
            </ion-row>
          </ion-grid>

        
  </div>
 

  <div *ngFor="let usr of waitingUsers">        
    <ion-item color="item">
        <ion-grid >
          <ion-row>
            <ion-col>
                <h2>{{ usr.usr_name }} </h2>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col>
              <button color="secondary" ion-button block (click)="acceptUser(usr)">Dodaj</button>
            </ion-col>
            <ion-col>
              <button color="danger" ion-button block (click)="refuseUser(usr)">Odrzuć</button>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-item>
    </div>
</ion-content>
