<!--
  Generated template for the UsersManagementPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>Zarządzanie użytkownikami</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>

  <ion-list *ngFor="let user of users">
    <div style="background: rgb(0, 225, 255);">
        {{ user.usr_id }} <br>
        {{ user.usr_name }} <br>
        {{ user.usr_rights }} <br>
        {{ user.usr_fltId }} <br>
        {{ user.usr_points }} <br>     
        
        <ion-item>
          <ion-label>Zmień uprawnienia</ion-label>
          <ion-select interface="popover" [(ngModel)]="user.usr_rights" (ngModelChange)="setRights(user)">
              <ion-option [value]="2" >Zwykły użtykownik</ion-option>
              <ion-option [value]="1" >Admin mieszkania</ion-option>
          </ion-select>
        </ion-item>

        <button ion-button block (click)="removeUserFromFlat(user)">
          Usuń z mieszkania
        </button>
      </div>
  </ion-list>

  <ion-list *ngFor="let usr of waitingUsers">
    <div>
        {{ usr.usr_name }} 
        <button ion-button block (click)="acceptUser(usr)">Dodaj</button>
        <button ion-button block (click)="refuseUser(usr)">Odrzuć</button>
    </div>
  </ion-list>
</ion-content>
